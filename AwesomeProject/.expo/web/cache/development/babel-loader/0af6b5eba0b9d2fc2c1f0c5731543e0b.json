{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/mnt/e/facultate/ANUL III/licenta/GitHub project/MobileFDV/AwesomeProject/AuthProvider.js\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { createContext, useState } from 'react';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport firebase from \"./database/firebaseDb\";\nexport var AuthContext = createContext();\nexport var AuthProvider = function AuthProvider(_ref) {\n  var children = _ref.children;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  return React.createElement(AuthContext.Provider, {\n    value: {\n      user: user,\n      setUser: setUser,\n      login: function login(email, password) {\n        return _regeneratorRuntime.async(function login$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _regeneratorRuntime.awrap(firebase.auth().signInWithEmailAndPassword(email, password));\n\n              case 3:\n                _context.next = 8;\n                break;\n\n              case 5:\n                _context.prev = 5;\n                _context.t0 = _context[\"catch\"](0);\n                Alert.alert(_context.t0.message);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, null, null, [[0, 5]], Promise);\n      },\n      register: function register(email, password) {\n        return _regeneratorRuntime.async(function register$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return _regeneratorRuntime.awrap(firebase.auth().createUserWithEmailAndPassword(email, password));\n\n              case 3:\n                _context2.next = 8;\n                break;\n\n              case 5:\n                _context2.prev = 5;\n                _context2.t0 = _context2[\"catch\"](0);\n                Alert.alert(_context2.t0.message);\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, null, null, [[0, 5]], Promise);\n      },\n      logout: function logout() {\n        return _regeneratorRuntime.async(function logout$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return _regeneratorRuntime.awrap(firebase.auth().signOut());\n\n              case 3:\n                _context3.next = 5;\n                return _regeneratorRuntime.awrap(GoogleSignIn.signOutAsync());\n\n              case 5:\n                _context3.next = 10;\n                break;\n\n              case 7:\n                _context3.prev = 7;\n                _context3.t0 = _context3[\"catch\"](0);\n                console.log(_context3.t0);\n\n              case 10:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, null, null, [[0, 7]], Promise);\n      },\n      loginG: function loginG() {\n        var message;\n        return _regeneratorRuntime.async(function loginG$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                try {} catch (_ref2) {\n                  message = _ref2.message;\n                  alert('login: Error:' + message);\n                }\n\n              case 1:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 9\n    }\n  }, children);\n};","map":{"version":3,"sources":["/mnt/e/facultate/ANUL III/licenta/GitHub project/MobileFDV/AwesomeProject/AuthProvider.js"],"names":["React","createContext","useState","firebase","AuthContext","AuthProvider","children","user","setUser","login","email","password","auth","signInWithEmailAndPassword","Alert","alert","message","register","createUserWithEmailAndPassword","logout","signOut","GoogleSignIn","signOutAsync","console","log","loginG"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,QAA/B,QAA+C,OAA/C;;AAEA,OAAOC,QAAP;AAEA,OAAO,IAAMC,WAAW,GAAGH,aAAa,EAAjC;AAEP,OAAO,IAAMI,YAAY,GAAG,SAAfA,YAAe,OAAgB;AAAA,MAAdC,QAAc,QAAdA,QAAc;;AACxC,kBAAwBJ,QAAQ,CAAC,IAAD,CAAhC;AAAA;AAAA,MAAOK,IAAP;AAAA,MAAaC,OAAb;;AACA,SACI,oBAAC,WAAD,CAAa,QAAb;AACI,IAAA,KAAK,EAAE;AACHD,MAAAA,IAAI,EAAJA,IADG;AAEHC,MAAAA,OAAO,EAAPA,OAFG;AAGHC,MAAAA,KAAK,EAAE,eAAOC,KAAP,EAAcC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDAEOR,QAAQ,CAACS,IAAT,GAAgBC,0BAAhB,CAA2CH,KAA3C,EAAkDC,QAAlD,CAFP;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAICG,gBAAAA,KAAK,CAACC,KAAN,CAAY,YAAEC,OAAd;;AAJD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAHJ;AAUHC,MAAAA,QAAQ,EAAE,kBAAOP,KAAP,EAAcC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDAEIR,QAAQ,CAACS,IAAT,GAAgBM,8BAAhB,CAA+CR,KAA/C,EAAsDC,QAAtD,CAFJ;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAIFG,gBAAAA,KAAK,CAACC,KAAN,CAAY,aAAEC,OAAd;;AAJE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAVP;AAiBHG,MAAAA,MAAM,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDAEMhB,QAAQ,CAACS,IAAT,GAAgBQ,OAAhB,EAFN;;AAAA;AAAA;AAAA,iDAGMC,YAAY,CAACC,YAAb,EAHN;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAKAC,gBAAAA,OAAO,CAACC,GAAR;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAjBL;AAyBHC,MAAAA,MAAM,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AACJ,oBAAI,CAED,CAFH,CAEI,cAAoB;AAAXT,kBAAAA,OAAW,SAAXA,OAAW;AACpBD,kBAAAA,KAAK,CAAC,kBAAkBC,OAAnB,CAAL;AACD;;AALC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAzBL,KADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAmCKV,QAnCL,CADJ;AAuCH,CAzCM","sourcesContent":["import React, { createContext, useState } from 'react';\r\nimport {Alert} from 'react-native';\r\nimport firebase from './database/firebaseDb';\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport const AuthProvider = ({children}) => {\r\n    const [user, setUser] = useState(null);\r\n    return (\r\n        <AuthContext.Provider\r\n            value={{\r\n                user,\r\n                setUser,\r\n                login: async (email, password) => {\r\n                    try {\r\n                        await firebase.auth().signInWithEmailAndPassword(email, password);\r\n                    } catch(e) {\r\n                        Alert.alert(e.message);\r\n                    }\r\n                },\r\n                register: async (email, password) => {\r\n                    try {\r\n                        await firebase.auth().createUserWithEmailAndPassword(email, password);\r\n                    } catch(e) {\r\n                        Alert.alert(e.message);\r\n                    }\r\n                },\r\n                logout: async () => {\r\n                    try {\r\n                        await firebase.auth().signOut();\r\n                        await GoogleSignIn.signOutAsync();\r\n                    } catch(e){\r\n                        console.log(e);\r\n                    }\r\n                },\r\n                loginG: async () => {\r\n                    try {\r\n                        \r\n                      } catch ({ message }) {\r\n                        alert('login: Error:' + message);\r\n                      }\r\n                }\r\n            }}\r\n        >\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}